<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>canvas 合成</title>
    <style>
        body{
            background-color: #000000;
        }
        #c1{
            background-color: #ffffff;
        }
        span{
            color: #ffffff;
        }
        #img1{
            background-color: white;
        }
    </style>
</head>
<body>
    <canvas id="c1" width="400" height="400">
        <span>不支持canvas浏览器</span>
        <!--
            全局阿尔法值： globalAlpha

            覆盖合成：
                --源：新的图形
                --目标：已经绘制过的图形
                --globalCompositeOperation属性：
                    source-over,source-in,source-out,source-atop
                    destination-over,destination-in,destination-out,destination-atop
                    lighter,copy,xor

                --toDataURL: 将画布导出成图片
                    火狐右键可以直接导出成图片

                事件操作：
                    isPointInPath
                       是否在点击范围内
                       JCanvasScript
        -->
    </canvas>
    <img src="" id="img1"/>
</body>
<script>
    window.onload = function(){
        var oc = document.getElementById('c1');
        var context = oc.getContext('2d');
        var oImg = document.getElementById('img1');
       // context.fillRect(0,0,100,100);

      //  context.fillStyle = 'red';
        //context.globalAlpha = 0.5;

        //context.globalCompositeOperation = 'source-in';
        //context.globalCompositeOperation = 'source-out';
        //context.globalCompositeOperation = 'source-over';
        //context.globalCompositeOperation = 'source-atop';

        //context.globalCompositeOperation = 'xor';
        //context.fillRect(50,50,100,100);
        //oImg.src = oc.toDataURL();

        context.beginPath();
        context.arc(100,100,50,0,360*Math.PI/180,false);
        context.closePath();
        context.fill();

        context.beginPath();
        context.arc(200,200,50,0,360*Math.PI/180,false);
        context.closePath();
        context.fill();

        oc.onmousedown = function(ev){
            var ev = ev || window.event;
            var x = ev.clientX - oc.offsetLeft;
            var y = ev.clientY - oc.offsetTop;

            if( context.isPointInPath(x,y) ){
                alert(123);
            }
        };
    };
</script>
</html>