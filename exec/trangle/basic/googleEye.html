<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>谷歌眼</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #div1{
            width: 176px;
            height: 91px;
            background: url(265.png) no-repeat;
            position: absolute;
            left: 300px;
            top: 200px;
        }

        #div2{
            position: absolute;
            border: 2px solid #000000;
            left: 115px;
            top: 43px;
            border-radius: 100%;
        }
        #div3{
            position: absolute;
            border: 2px solid #000000;
            left: 135px;
            top: 43px;
            border-radius: 100%;
        }
    </style>
</head>
<body>
    <div id="div1">
        <div id="div2"></div>
        <div id="div3"></div>
    </div>
</body>
<script>
    window.onload = function(){
        var div2 = document.getElementById('div2');
        var div3 = document.getElementById('div3');

        var r = 5;
        var l2 = 115;
        var t2 = 43;
        var l3 = 135;
        var t3 = 43;

        document.onmousemove = function(evt){
            evt = window.event || evt;
            change(div2,evt.clientX,evt.clientY,l2,t2);
            change(div3,evt.clientX,evt.clientY,l3,t3);
        };

        function change(obj,x,y,l,t){
            var changeX = 0;
            var changeY = 0;

            var disX = obj.offsetLeft + obj.parentNode.offsetLeft;
            var disY = obj.offsetTop + obj.parentNode.offsetTop;
            var b = Math.abs(x - disX);
            var a = Math.abs(y - disY);

            if(x > disX && y < disY){
                changeX = Math.sin(Math.atan(b/a)) * r;
                changeY = Math.cos(Math.atan(b/a)) * -r;
            }else if(x > disX){
                changeX = Math.sin(Math.atan(b/a)) * r;
                changeY = Math.cos(Math.atan(b/a)) * r;
            }
            if(x < disX && y < disY){
                changeX = Math.sin(Math.atan(b/a)) * -r;
                changeY = Math.cos(Math.atan(b/a)) * -r;
            }else if(x < disX){
                changeX = Math.sin(Math.atan(b/a)) * -r;
                changeY = Math.cos(Math.atan(b/a)) * r;
            }
            obj.style.left = l + changeX + 'px';
            obj.style.top = t + changeY + 'px';

        }
    };
</script>
</html>