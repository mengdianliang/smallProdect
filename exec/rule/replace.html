<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>replace</title>
</head>
<body>
    <!--
        replace:字符串去匹配正则，匹配成功的字符去替换成新的字符串
        写法：字符串.replace(正则，新的字符串)
        replace第二个参数，可以是字符串或者函数
    -->
    替换前<br/>
    <textarea></textarea><br/>
    替换后<br/>
    <textarea></textarea><br/>
    <input type="button" value="确定" id="input1"/>
    <script>
       /* var str = 'aaa';
        var re = /a+/g;
        alert(str.replace(re,'b'));*/
        window.onload = function(){
            //var str = '中国共产党总书记习近平说：“法轮功是邪教”。'

            var text = document.getElementsByTagName('textarea');
            var btn = document.getElementById('input1');

            var re = /习近平|共产党|法轮|邪教/g;
            btn.onclick = function(){
                /*text[1].value = text[0].value.replace(re,"*");*/
                text[1].value = text[0].value.replace(re,function($0,$1,$2){
                    //$0表示匹配到的字符串，$1表示匹配到的索引位置,$2表示要匹配的内容
                    console.log($0,$1,$2);
                    var rel = '';
                    for(var i = 0;i < $0.length;i++){
                        rel += '*';
                    }
                    return rel;
                });
            };
        };
    </script>
</body>
</html>