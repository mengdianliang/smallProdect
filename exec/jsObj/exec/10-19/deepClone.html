<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>深度拷贝</title>
</head>
<body>

</body>
<script>
    var arr = [1,2,3,4,[6,{name:'dq'},function fn2(){}]];
    function deepClone(obj){
        var toStr = Object.prototype.toString;
        var o = toStr.call(obj) === '[object Object]'?{}:[];
        for(var attr in obj){
            if(typeof obj[attr] == 'object'){
                o[attr] = deepClone(obj[attr]);
            }else{
                o[attr] = obj[attr];
            }
        }
        return o;
    }
    var arr2 = deepClone(arr);
    console.log(arr2);

   /* var arr2 = JSON.parse(JSON.stringify(arr));   //问题：兼容性问题，function类型返回null
    arr2[4].push(5);
    console.log(arr2);*/
</script>
</html>